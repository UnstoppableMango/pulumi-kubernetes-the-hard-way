// Code generated by pulumi-language-go DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package kubernetesthehardway

import (
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
	"github.com/unstoppablemango/pulumi-kubernetes-the-hard-way/sdk/go/kubernetes-the-hard-way/internal"
)

// Install PKI onto a controlplane node.
func InstallControlPlane(ctx *pulumi.Context, args *InstallControlPlaneArgs, opts ...pulumi.InvokeOption) error {
	opts = internal.PkgInvokeDefaultOpts(opts)
	var rv struct{}
	err := ctx.Invoke("kubernetes-the-hard-way:index:installControlPlane", args.Defaults(), &rv, opts...)
	return err
}

type InstallControlPlaneArgs struct {
	// The connection details.
	Connection Connection       `pulumi:"connection"`
	Opts       *ResourceOptions `pulumi:"opts"`
	// The PKI to install
	Pki *ClusterPki `pulumi:"pki"`
}

// Defaults sets the appropriate defaults for InstallControlPlaneArgs
func (val *InstallControlPlaneArgs) Defaults() *InstallControlPlaneArgs {
	if val == nil {
		return nil
	}
	tmp := *val
	tmp.Connection = *tmp.Connection.Defaults()

	return &tmp
}
